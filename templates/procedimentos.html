{% extends 'base.html' %}
{% include 'header.html' %}

{% block title %}IMPACTO{% endblock %}

{% block body %}
<div class="container">
    <div class="row">

        <div class="col-md-3">
            <div class="manual-nav">
                <ul class="nav flex-column">
                    {% for topico in topicos %}
                        <li class="nav-item">
                            <a class="nav-link" href="#topico{{ topico.id }}">{{ topico.titulo }}</a>
                        </li>
                    {% endfor %}
                </ul>
                
                
            </div>        
        </div>
        <div class="col-md-9">
            <div class=" bg-light p-4 mb-2">
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                <div class="flashes">
                    {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">{{ message }}</div>
                    {% endfor %}
                </div>
                <script>
                    setTimeout(function () {
                        window.location.reload(1);
                    }, 2000);
                </script>
                {% endif %}
                {% endwith %}

                <div class="d-flex justify-content-between">
                    <h2>
                <h1>{{ funcionario }} lendo manual do {{ setor }}</h1>
                    </h2>
                    <button type="button" class="btn btn-success" data-toggle="modal"
                        data-target="#modalAddProcedimento">Adicionar Topicos</button>
                </div>

                <!-- Adicione a barra de pesquisa aqui -->
                <div class="mt-3 input-group mb-3">
                    <input type="text" class="form-control" placeholder="Pesquisar" id="searchField">
                    <button class="btn btn-primary" type="button" id="searchButton">
                        <i class="fa fa-search me-2"></i> Pesquisar
                    </button>
                </div>      

        </div>



        <div class="d-flex justify-content-between">
            <div class="manual-container">




                <div id="topico1" class="manual-page">
                    <h2>Tópico 1</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                    <img src="imagem1.jpg" alt="Imagem 1" class="img-fluid">
                    <video src="video1.mp4" controls class="img-fluid mt-3"></video>
                </div>

                <div id="topico2" class="manual-page">
                    <h2>Tópico 2</h2>
                    <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem.</p>
                    <img src="imagem2.jpg" alt="Imagem 2" class="img-fluid">
                    <video src="video2.mp4" controls class="img-fluid mt-3"></video>
                </div>

                <div id="topico3" class="manual-page">
                    <h2>Tópico 3</h2>
                    <p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum.
                    </p>
                    <img src="imagem3.jpg" alt="Imagem 3" class="img-fluid">
                    <video src="video3.mp4" controls class="img-fluid mt-3"></video>
                </div>

                <!-- Resto dos tópicos -->

            </div>
        </div>





    </div>
</div>








<div id="modalAddProcedimento" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
        <h5 class="modal-title" id="modalLabel">Adicionar Tópicos</h5>
            </div>
            <div class="modal-body">
                <form id="addForm" action="/insert" method="post">
                    <div class="form-group">
                        <label>Título do Tópico:</label>
                        <input type="text" class="form-control" id="addNome" name="Título_Tópico:" required>
                    </div>
                    <div class="form-group">
                        <label>Setor ID:</label>
                        <input type="number" class="form-control" id="addSetor_id" name="setor_id" required>
                    </div>
                    <div class="form-group">
                        <label>Conteúdo do Tópico</label>
                        <button id="addContent" type="button" class="btn btn-success">Adicionar Conteúdo</button>
                        <div id="contentContainer"></div>
                    </div>
                    <button type="submit" class="btn btn-primary">Adicionar</button>
                </form>
                
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
            </div>
        </div>
    </div>
</div>







{% endblock %}
